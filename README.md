# satire_scrapy — 資料擷取與諷刺留言標記系統

本專案聚焦於「諷刺言論」的資料取得與人工標註流程。獲取資料後，我們以 Java 設計了視覺化標記系統，讓標記者能以最直覺的方式完成分類與標註工作。系統支援「一則留言可同時具有多個諷刺標籤」的情境，除「不是諷刺」為互斥選項外，其餘諷刺類別可同時勾選，並以背景色高亮顯示已選標籤，使進度與結果一目了然。

> 備註：此 README 著重於標記系統與使用流程。資料擷取（爬蟲/匯入）方式可依您的資料來源與格式調整。

---

## 介面示意

![資料集標記系統](fig/scrapy.png)

如上圖，系統介面大致分為三個區域：
- 上方（藍色區）：呈現文章標題與文章內容。點擊「顯示文章」可於獨立視窗查看全文，方便反覆比對留言與文章。
- 左側（黃色區）：留言清單，逐列顯示待標記之留言。
- 右側（紅色區）：十個分類選項。直接點擊分類按鈕即可完成該留言之標記，系統以背景色標示已選類別。

---

## 功能特色

- 多標籤標註：支援同一留言套用多個諷刺類別（除「不是諷刺」為互斥選項）。
- 視覺化與易用性：一鍵完成標記、即時高亮顯示，降低操作負擔。
- 文章對照：隨時快速開啟文章全文，輔助判斷留言語境。
- 進度管控：每篇文章至多標記 20 則諷刺留言，達到上限自動跳轉下一篇，降低資料分布偏差。
- 結果回寫：完成標註後，系統會在原始 JSON 結構中新增 `satire` 欄位（array），保存多類別標記結果。

---

## 系統需求

- 作業系統：Windows/macOS/Linux
- Java 環境：JDK 8+（建議 11 或以上）
- 記憶體：依資料量與作業系統而定

---

## 安裝與建置

若您直接使用已打包的可執行檔（Jar）：
1. 下載/取得可執行 Jar。
2. 以指令執行：
   ```bash
   java -jar target/screpy_comparison-1.0.jar
   ```

若您需要自行建置（以 Maven 為例）：
1. 確認已安裝 JDK 與 Maven。
2. 在專案根目錄執行：
   ```bash
   mvn clean package
   ```
3. 於 `target/` 取得可執行檔後，執行：
   ```bash
   java -jar target/screpy_comparison-1.0.jar
   ```

---

## 快速開始

1. 準備資料：
   - 將文章與留言的資料以 JSON 或您既有的格式放置至專案設定指定的位置（依您的使用情境調整）。
2. 啟動程式：
   ```bash
   java -jar target/screpy_comparison-1.0.jar
   ```
3. 依畫面指示逐則進行標註：
   - 在留言清單中選擇一則留言。
   - 參考上方文章標題與內文（可點「顯示文章」展開全文）。
   - 在右側分類區勾選對應標籤；非諷刺則選「不是諷刺」。

---

## 標記策略（避免偏差）

考量部分文章（特別是同質性強的看板或主題）可能包含大量風格相近的諷刺留言，若採自然分布標記，資料將偏向少數類型。為降低偏差，我們制定以下策略：
- 每篇文章最多標記 20 則「諷刺性留言」；達到上限後自動跳轉至下一篇文章。
- 此策略有助於平衡不同諷刺類別的樣本數。

---

## 標記輸出與資料格式

- 標記完成後，系統會將結果回寫到原始 JSON 結構中，於每則留言的物件新增 `satire` 欄位。
- `satire` 為陣列（array），以儲存多重標籤。

範例（僅示意，實際欄位名稱與層級請依您的資料結構為準）：
```json
{
  "post_id": "12345",
  "title": "文章標題",
  "content": "文章內文……",
  "comments": [
    {
      "comment_id": "c001",
      "text": "留言內容……",
      "satire": ["反諷", "挖苦"]  // 多個標籤可並存；或為 ["不是諷刺"]
    }
  ]
}
```

---

## 常見問題（FAQ）

- 執行 Jar 沒反應？
  - 請先檢查是否安裝 JDK 8+，並使用 `java -version` 確認版本。
- 圖片未顯示？
  - 請確認 `fig/scrapy.png` 檔案是否存在，或調整 README 中的圖片路徑。
- 標記結果寫入失敗？
  - 請確認輸入 JSON 權限與寫入路徑設定正確，且資料格式符合系統預期。

---

## 貢獻

歡迎提交 Issue 與 Pull Request 改善使用體驗、文件與功能。如要提出重大更動，請先開 Issue 討論您的想法，以便協調方向與規格。

---

## 授權

授權條款請參考本儲存庫中的 LICENSE 檔案（若無，請與維護者聯繫以釐清授權方式）。
